replicaCount: 1
name: aas

image:
  repository: registry.gitlab.com/gaia-x/data-infrastructure-federation-services/authenticationauthorization
  name: auth-service-image
  # -- Image tag
  # Uses .Chart.AppVersion if empty
  tag: "latest"
  # -- Image sha, usually generated by the CI
  # Uses image.tag if empty
  sha: ""
  # -- Image pull policy
  pullPolicy: Always
  # -- Image pull secret when internal image is used
  # pullSecrets: key

podAnnotations: {}

# resources:
#   requests:
#     cpu:
#     memory:
#   limits:
#     cpu:
#     memory:

service:
  port: 9000
  type: ClusterIP

server:
  http:
    port: 9000

  # tls:
  #  - secretName: wildcard-gxfs-dev
  #    hosts:
  #      - aas.gxfs.dev

config:
  profile: prod

properties: 
  management:
    endpoints:
      web:
        exposure:
          include: health, info, metrics, prometheus
  spring:
    application:
      name: auth-service
    messages:
      encoding: ISO-8859-1    
  logging:
    level:
      root: DEBUG
      tsclaims: DEBUG
      org.springframework.web: DEBUG
      org.springframework.security: DEBUG
      eu.gaiax.difs.aas: DEBUG
  servlet:
    session:
      timeout: 10m
  tomcat:
    mbeanregistry:
      enabled: true
  aas:
    cache:
      size: 0
      ttl: 5m
    iam:
      base-uri: http://key-server:8080
      iat:
        dcr-uri: ${aas.iam.base-uri}/realms/gaia-x/clients-registrations/openid-connect
        redirect-uri: ${aas.oidc.issuer}/*
        secret: "{noop}iat"
    jwk:
      length: 3072
      secret: 96ec048e-c640-4cfd-bc82-6571810a9d0f
    oidc:
      issuer: http://auth-server:8090
      static-scopes:
    siop:
      clock-skew: 5s 
      issuer: https://self-issued.me/v2
    scopes:
      openid:
        - sub
        - iss
        - auth_time
      profile:
        - name
        - given_name
        - family_name
        - middle_name
        - preferred_username
        - gender
        - birthdate
        - updated_at
      email:
        - email
        - email_verified
    token:
      ttl: 5m
    tsa:
      url: http://trustservice/api
      repo: aisbl
      group: example
      version: 1.0
      action: evaluation
      delay: 500 # in milliseconds
      duration: 5000 # in milliseconds
      request:
        count: 2
      statuses:
        GetLoginProofResult: ACCEPTED
        GetIatProofResult: ACCEPTED
      